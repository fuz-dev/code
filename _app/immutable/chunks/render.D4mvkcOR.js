import{q as S,u as H,H as m,m as v,i as q,d as B,b,v as C,e as I,w as O,x as M,y as Y,h as E,g as P,z as V}from"./disclose-version.uMq7BPSm.js";import{d as W,c as $,A as z,B as k,C as F,D as G,F as j,m as J,p as K,h as Q,k as U,G as X}from"./runtime.BDQFiU-h.js";const A=new Set,T=new Set;function ar(r,a,n,o){function e(t){if(o.capture||_.call(a,t),!t.cancelBubble)return n.call(this,t)}return r.startsWith("pointer")||r==="wheel"?z(()=>{a.addEventListener(r,e,o)}):a.addEventListener(r,e,o),e}function er(r){for(var a=0;a<r.length;a++)A.add(r[a]);for(var n of T)n(r)}function _(r){var R;var a=this,n=a.ownerDocument,o=r.type,e=((R=r.composedPath)==null?void 0:R.call(r))||[],t=e[0]||r.target,y=0,c=r.__root;if(c){var f=e.indexOf(c);if(f!==-1&&(a===document||a===window)){r.__root=a;return}var u=e.indexOf(a);if(u===-1)return;f<=u&&(y=f)}if(t=e[y]||r.target,t!==a){W(r,"currentTarget",{configurable:!0,get(){return t||n}});try{for(var l,s=[];t!==null;){var d=t.parentNode||t.host||null;try{var i=t["__"+o];if(i!==void 0&&!t.disabled)if($(i)){var[g,...p]=i;g.apply(t,[r,...p])}else i.call(t,r)}catch(w){l?s.push(w):l=w}if(r.cancelBubble||d===a||d===null)break;t=d}if(l){for(let w of s)queueMicrotask(()=>{throw w});throw l}}finally{r.__root=a,t=a}}}let L=!0;function tr(r,a){(r.__t??(r.__t=r.nodeValue))!==a&&(r.nodeValue=r.__t=a)}function Z(r,a){const n=a.anchor??a.target.appendChild(S());return k(()=>N(r,{...a,anchor:n}),!1)}function nr(r,a){a.intro=a.intro??!1;const n=a.target,o=E;try{return k(()=>{for(var e=n.firstChild;e&&(e.nodeType!==8||e.data!==H);)e=e.nextSibling;if(!e)throw m;v(!0),q(e),B();const t=N(r,{...a,anchor:e});if(b.nodeType!==8||b.data!==C)throw I(),m;return v(!1),t},!1)}catch(e){if(e===m)return a.recover===!1&&F(),O(),M(n),v(!1),Z(r,a);throw e}finally{v(o),Y()}}const h=new Map;function N(r,{target:a,anchor:n,props:o={},events:e,context:t,intro:y=!0}){O();var c=new Set,f=s=>{for(var d=0;d<s.length;d++){var i=s[d];if(!c.has(i)){c.add(i);var g=V.includes(i);a.addEventListener(i,_,{passive:g});var p=h.get(i);p===void 0?(document.addEventListener(i,_,{passive:g}),h.set(i,1)):h.set(i,p+1)}}};f(G(A)),T.add(f);var u=void 0,l=j(()=>(J(()=>{if(t){K({});var s=X;s.c=t}e&&(o.$$events=e),E&&P(n,null),L=y,u=r(n,o)||{},L=!0,E&&(Q.nodes.end=b),t&&U()}),()=>{for(var s of c){a.removeEventListener(s,_);var d=h.get(s);--d===0?(document.removeEventListener(s,_),h.delete(s)):h.set(s,d)}T.delete(f),D.delete(u)}));return D.set(u,l),u}let D=new WeakMap;function sr(r){const a=D.get(r);a==null||a()}export{L as a,ar as c,er as d,nr as h,Z as m,tr as s,sr as u};
